using ProductApi.Models;

namespace ProductApi.Repositories;

class ProductRepository
{
    private readonly Dictionary<Guid, Product> _products = new();

    public void CreateProduct(Product product)
    {
        if (product is null)
        {
            return;
        }
        _products[product.Id] = product;
    }

    public List<Product> GetAllProducts()
    {
        return _products.Values.ToList();
    }

    public Product GetProductById(Guid id)
    {
        return _products[id];
    }

    public void UpdateProduct(Product product)
    {
        var existingProduct = GetProductById(product.Id);
        if (existingProduct is null)
        {
            return;
        }
        _products[product.Id] = product;
    }

    public void DeleteProduct(Guid id)
    {
        _products.Remove(id);
    }
}